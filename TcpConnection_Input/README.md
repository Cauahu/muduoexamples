##TcpConnection处理输入
###为什么要使用Buffer
对于一个socket fd， 当其可读时， 如果直接使用系统调用read，那么因为网络阻塞等原因，发送10000字节的消息，可能需要多次read才能将对端发送的一条消息收取完整，比如（5000， 2000， 1000， 2000），这样就会频繁的触发POLLIN事件， 造成busy loop， 就无法处理其他的连接， 丧失了公平性。 为了保证一次读取消息的完整性和读取效率，需要增加一个中间层Buffer缓冲区，将每次read读取的消息先放在缓冲区里面，等一条消息收取完整后再通知上层从缓冲区中读取数据。

###Buffer由谁拥有
每一个Tcp连接都应该拥有一个输入缓冲区，因此它由class TcpConnection拥有，当其handleRead的时候，不再是直接裸调用read从fd读取数据，而是从Buffer中读取数据。Buffer来保证一条消息的完整性。

###Buffer如何实现
具体Buffer的实现之前已经总结过了，在Buffer目录下，简单的说就是内部使用vector<char> 来实现, 这省去了内存管理的复杂性，并且相应的操作可以直接使用vector的，比较方便。

###在TcpConnection中的过程
增加了inputBuffer后，在套接字可读时，会先由缓冲区inputBuffer来把数据从内核中读出来，然后在调用我们用户注册的回调函数，用户注册的回调函数是直接对缓冲区inputBuffer操作， 因此数据都经过Buffer进行处理了，因此不需要考虑读操作可能产生的问题。






